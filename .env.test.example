# Test environment configuration
NODE_ENV=test
E2E=1
NEXT_PUBLIC_E2E=1
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/anthrasite_test"
PORT=3333

# Stripe test keys (for E2E payment flow testing)
# Get real test keys from: https://dashboard.stripe.com/test/apikeys
# Note: Use TEST mode keys (sk_test_*, pk_test_*) - safe for local development
STRIPE_SECRET_KEY=sk_test_YOUR_STRIPE_TEST_SECRET_KEY_HERE
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_STRIPE_TEST_PUBLISHABLE_KEY_HERE
STRIPE_WEBHOOK_SECRET=whsec_YOUR_STRIPE_WEBHOOK_SECRET_HERE
EDGE_CONFIG_BASE64_KEY=""
EDGE_CONFIG=""

# Feature Flags
# Disabled for E2E tests - purchase-flow.spec.ts tests the old redirect flow
# New payment element flow is tested separately in purchase-payment-element.spec.ts
NEXT_PUBLIC_FF_PURCHASE_ENABLED="true"

# Mock Purchase Service - uses mock Stripe + mock business data
# Unit tests: OFF (test actual middleware behavior)
# E2E tests: ON (use mock services to avoid external dependencies)
USE_MOCK_PURCHASE="true"

# UTM Validation Bypass - controls whether middleware skips UTM validation
# This flag is INDEPENDENT of USE_MOCK_PURCHASE to allow testing redirects with mocks
# Default: false (redirects are tested)
# Override per suite: set to "true" for Stripe payment tests that need unrestricted access
BYPASS_UTM_VALIDATION="false"

# Test Harness
NEXT_PUBLIC_ENABLE_TEST_HARNESS="true"
NEXT_PUBLIC_TEST_HARNESS_KEY="test-key-12345"

# Currents.dev Test Dashboard
# Get credentials from: https://app.currents.dev/
CURRENTS_PROJECT_ID="YOUR_CURRENTS_PROJECT_ID"
CURRENTS_RECORD_KEY="YOUR_CURRENTS_RECORD_KEY"
CURRENTS_API_KEY="YOUR_CURRENTS_API_KEY"
